{% extends "books/base.html" %}
{% load static %}
{% block content %}
<div class="container conversation-container py-5  rounded-2 mb-3">
  <h2 class="text-center">Conversation with {{ other_user.username }}</h2>
  <div class="messages  " >
    {% for chat_message in chat_messages %}
    <div class="{% if chat_message.sender == user %}sent-message{% else %}received-message{% endif %}">
      <p>{{ chat_message.content }}</p>
      <small>{{ chat_message.timestamp }}</small>
    </div>
    {% endfor %}
  </div >
  <div class="d-grid gap-2 d-md-block mt-3 text-center">
    <a href="{% url 'send_message' other_user.id %}" class="btn btn-primary">Send New Message</a>
    <a href="{% url 'delete_conversation' other_user.id %}" class="btn btn-danger">Delete Conversation</a>
    <a href="{% url 'inbox' %}" class="btn btn-success">Back To Inbox</a>
  </div>
</div>
{% endblock %}